[build]
command = "npm run build"
publish = "public"

[build.environment]
NODE_VERSION = "22"

# Configure Gatsby plugin to include necessary cache files for SSR functions
[[plugins]]
package = "@netlify/plugin-gatsby"
[plugins.inputs]
included_files = [
  ".cache/**",
  "public/**"
]

[plugins.inputs.__ssr]
external_node_modules = ["msgpackr-extract"]
included_files = [
  "public/404.html",
  "public/500.html"
]
